/********************************************
 * REVOLUTION 5.0+ EXTENSION - SLICED
 * @version: 2.0 (26.04.2019)
 * @requires jquery.themepunch.revolution.js
 * @author ThemePunch
*********************************************/
;(function(h){window.RevSliderSlicey=function(a){a.find(".tp-slicey").length&&(h('<style type="text/css">.tp-slicey {overflow: visible !important}</style>').appendTo(h("head")),a.one("revolution.slide.onloaded",function(){var b=jQuery.fn;(b=b.revolution&&b.revolution[a[0].id]?b.revolution[a[0].id]:!1)&&n(a,b)}))};var n=function(a,b){b.slidecobjects=[];b.c.find(".tp-slicey").each(function(){var a=h(this),d=a.closest("rs-slide"),e=d.find("rs-sbg").first().clone();var c=d.find("rs-sbg-wrap").data("panzoom"),
g=1E4,q="Linear.easeNone",m=1,l=1,r=0,t=0;if(c){c=c.split(";");for(var n=c.length,p=0;p<n;p++){var k=c[p].split(":");switch(h.trim(k[0])){case "d":g=parseInt(k[1],10);break;case "ss":m=parseInt(k[1],10);break;case "se":l=parseInt(k[1],10);break;case "bs":r=parseInt(k[1],10);break;case "be":t=parseInt(k[1],10);break;case "e":q=h.trim(k[1])}}}if(c=a.attr("data-slicey"))c=JSON.parse(c),c.slicey_offset_start=1,c.slicey_offset_end=void 0===c.offset?1:1+.01*parseInt(c.offset,10),c.slicey_blurstart=void 0===
c.blurstart||"inherit"===c.blurstart?r:c.blurstart,c.slicey_blurend=void 0===c.blurend||"inherit"===c.blurend?t:c.blurend,c.slicey_blurstart=parseInt(c.slicey_blurstart,10),c.slicey_blurend=parseInt(c.slicey_blurend,10),e.addClass("slicedbox_defmig"),g=h('<div class="slicedbox_wrapper" data-slicey_offset_start="'+c.slicey_offset_start+'" data-slicey_offset_end="'+c.slicey_offset_end+'" data-global_duration="'+g/1E3+'" data-global_ease="'+q+'" data-slicey_blurstart="'+c.slicey_blurstart+'" data-slicey_blurend="'+
c.slicey_blurend+'" data-global_scalestart="'+m/100+'" data-global_scaleend="'+l/100+'" style="width:100%;height:100%;position:absolute;overflow:hidden;box-shadow:'+d.attr("data-slicey")+'"></div>'),g.append(e),a.append(g),a=g.closest("rs-layer, .rs-layer"),punchgs.TweenLite.set(a,{background:"transparent",transformStyle:"flat",perspective:"1000px",force3D:"true",transformOrigin:"50% 50%"}),b.slidecobjects.push({caption:a,li_index:d.data("index")}),punchgs.TweenLite.set(e,{opacity:1})});b.c.on("revolution.slide.onafterswap",
function(f,d){var e=a.revcurrentslide()-1;e=h("rs-slide").eq(e);e.length||(e=a.find("rs-slide").eq(0));e=e.data("index");for(var c in b.slidecobjects)if(b.slidecobjects.hasOwnProperty(c)){var g=b.slidecobjects[c].caption,l=g.data();e===b.slidecobjects[c].li_index&&m(g,l,b)}});b.c.on("revolution.layeraction",function(a,d){"enterstage"===d.eventtype&&(m(d.layer,d.layersettings,b),l(d.layer,d.layersettings,0))});b.c.on("revolution.slide.afterdraw",function(){for(var a in b.slidecobjects)if(b.slidecobjects.hasOwnProperty(a)){var d=
b.slidecobjects[a].caption,e=b.slidecobjects[a].caption.data(),c=b.c.find(".active-revslide");if(0===c.length||c.data("index")===b.slidecobjects[a].li_index)m(d,e,b),l(d,e,"update")}})},m=function(a,b,f){b.slicedbox_wrapper=void 0==b.slicedbox_wrapper?a.find(".slicedbox_wrapper"):b.slicedbox_wrapper;0<b.slicedbox_wrapper.length&&(b.slicedbox_defmig=void 0==b.slicedbox_defmig?a.find(".slicedbox_defmig"):b.slicedbox_defmig,b.origin_offset={sx:f.conw/2-b.calcx,sy:f.conh/2-b.calcy,x:f.conw/2-(b.calcx+
b.eow/2),y:f.conh/2-(b.calcy+b.eoh/2)},punchgs.TweenLite.set(b.slicedbox_defmig,{opacity:1,left:0-b.calcx+"px",top:0-b.calcy+"px",width:f.conw,height:f.conh,position:"absolute"}))},l=function(a,b,f){0<b.slicedbox_wrapper.length&&(a=b.slicedbox_wrapper.data(),void 0===f&&(f=0),"update"===f&&void 0!==a.slicedanimation&&(f=a.slicedanimation.progress()),a.slicedanimation=new punchgs.TimelineLite,a.scalestart=a.global_scalestart*a.slicey_offset_start,a.scaleend=a.global_scaleend*a.slicey_offset_end,a.slicedanimation.add(punchgs.TweenLite.fromTo(b.slicedbox_wrapper,
a.global_duration,{transformOrigin:b.origin_offset.sx+"px "+b.origin_offset.sy+"px",scale:a.global_scalestart*a.slicey_offset_start},{force3D:"auto",scale:a.global_scaleend*a.slicey_offset_end,ease:a.global_ease}),0),void 0===a.slicey_blurstart||void 0===a.slicey_blurend||0===a.slicey_blurstart&&0===a.slicey_blurend||(a.blurElement={a:a.slicey_blurstart},a.blurElementEnd={a:a.slicey_blurend,ease:a.global_ease},a.blurAnimation=new punchgs.TweenLite(a.blurElement,a.global_duration,a.blurElementEnd),
a.blurAnimation.eventCallback("onUpdate",function(a,b){punchgs.TweenLite.set(b.slicedbox_wrapper,{position:"absolute",msFilter:"blur("+a.blurElement.a+"px)",filter:"blur("+a.blurElement.a+"px)",webkitFilter:"blur("+a.blurElement.a+"px)"})},[a,b]),a.slicedanimation.add(a.blurAnimation,0)),a.slicedanimation.progress(f),a.slicedanimation.play())}})(jQuery);